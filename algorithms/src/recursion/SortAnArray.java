package recursion;

import org.junit.Test;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.LinkedList;
import java.util.List;

public class SortAnArray {
    public List<Integer> sortArray(int[] nums) {

        if (nums.length == 0) return new ArrayList<>();
        if (nums.length == 1) return new ArrayList<>(Arrays.asList(nums[0]));

        return mergeSort(nums, 0, nums.length - 1);
    }

    private List<Integer> mergeSort(int[] nums, int s, int e) {

        if (s >= e) return null;


        int mid = s + (e - s) / 2;

        mergeSort(nums, s, mid);
        mergeSort(nums,mid + 1, e);

        return helper(nums, s, mid, mid + 1, e);
    }


    public List<Integer> helper(int[] nums, int s, int e, int s2, int e2) {

        List<Integer> resultList = new LinkedList<>();

        int start = s;


        while (s <= e &&  s2 <= e2) {
            if (nums[s] < nums[s2]) {
                resultList.add(nums[s++]);
            } else {
                resultList.add(nums[s2++]);
            }
        }

        while (s <= e) resultList.add(nums[s++]);
        while (s2 <= e2) resultList.add(nums[s2++]);

        for(int i: resultList){
            nums[start++] = i;
        }

        return resultList;
    }

    @Test
    public void test() {
        int[] nums = {
                5864, -12333, 4151, -6239, -10306, 10866, -7013, 13195, -8855, 1150, -560, 3227, 10387, -2329, 5169, -19527, 2689, 597, 4255, -13697, 12495, 19719, 15995, 8991, -12859, 5601, 8195, 3943, 16216, -19677, 15590, 10316, -4255, 45, -6508, -5416, 4993, 15278, -6015, -18843, -8400, -6994, 3608, -7695, -14698, -2684, 8753, 18019, 3266, -10860, -14354, 8708, 19037, -16188, 4932, 1403, -10571, 18368, -9786, 13410, 1686,
                -17352, -13827, 6647, 16747, 2664, -15830, 13673, -10248, 2115, -19074, -919, 4382, 18718, -7449,
                -16031, 333, -14066, -2505, -9975, -226, -18986, 17487, -3498, -17203, -3506, 8462, -191, 10563, 10160, 12627, -8306, 9439, -16640, 4586, -12067, -19904, -5607, -15989, 15651, -18358, -850, -850, 3472, 8969, 13113, 1269, 4808, 123, 16848, 9857, 17099, 14566, 4854, -19826, 957, -10325, -8686, 11542, -10343, -16353, -9446,
                -18914, 3242, 5897, -19881, -16532, 14827, -5840, 2873, -10823, -4545, 5028, -4985, 15482, -8196, 14376, -11370, 4044, -18929, 15051, 5562, 15969, -4135, 13438, 12928, -5472, 10521, 11392, -16511, 461, 12535, 12429, 13353, 5861, 6523, 2158, 16888, 8264, 580, -18042, -10113, -809, 3072, 14636, -12239, -18102, 8235, 14993, -15364,
                -19620, -13386, -18777, -7497, 5057, -8141, -3481, 10271, -9995, -7095, 3227, 596, -16996, -18539, 1110, -13797, 10370, -17772, 11653, 15077, 18369, 11289, -19190, -8459, 9841, -7993, -5988, -12463, -11450, 503, 17321, 11286, -2143, -10043, 2124, 4675, 9222, -7730,
                -7148, 5883, -16544, -10609, -14124, 2870, -17110, -8522, -15060, -3181, -7346, -14611, -19707, 10749, -18521, 3296, 12425,
                -12432, 3861, 5762, 19198, -8727, 14496, 38, 6655, 9821, 16008, 18685, -19707, -10857, -18835, 4629, 9009, 8461, 16103, 2364, -14902, 17870, -18850, 14524, 17172, -6205, 11312, -10303, 1327, 12037, 13534, 14116, 13747, 17273, -113, 8142, -19673, 6987, -2515, 6126, 19642, 12692, -979, -12819, -12377, -15499, 16078, 9489, -3969, 16604, -13093, -4785, -5054, -5257, 1534, 13772, 15112, -19759, -751, 17675, -9738, 555, 5138, 14450, 14272, 16880, -5220, -7764, 11064, -10502, -2882, -5117, -9418, -12036, 2598, 12617, 19374,
                13121, -10192, -18760, 4294, 15642, 9654, -17869, -14160, 3552, -9452, -13142, -2349, -208, 12323, -17454, -17072, 1480, -161, -12457, 10350, -17322, -1822, 12826, 14955, -662, -3686, -6296, -19302, 642, -6904, 4604, 15696, -3320, 724, 2576, 18191, -19446, 15831, 17370, -7224, 3815, 4365, -10963, 7647, 7758, 1529, 8356, 14607, 19512, -10514, -1058, -17052, 10965, 17726, 17005, -4978, -15012, -4975, 1795, 6553, -18402, -7335, -7793, -7712, 10322, -8126, -2696, 4688, -14516, -10898, -17626, -2460, 18421, -2333, 775,
                6835, 6725, -18022, -17639, 10787, -3182, -631, -14757, 19682, -15708, -4664, -9373, 5250, -6130, -3924, 10641, 8678, -7344, 9805, -13690, 16269, 9536, 17301, 8173, -18279, 2823, -12339, 7311, -1310, 5238, -7580, -4063, -8516, -15774, 16684, -335, -6790, 14049, -11259, 17978, -17973, -19988, -624, 5760, -16684, 3449, 19295, -3579, 16517, -6761, -687, -3604, -8972, 15385, 18528, 15345, -10113, -10556, -19856, 3246, -9107, 9194, 13158, -13342, -10022, -6172, -1886, -10750, 10128, 4049, 10927, 10150, 2291, 17561, 17778,
                9275, -9819, 8640, 5120, -5987, -16314, 4481, 672, -14913, -2800, 4579, -3881, 15933, 6926, -9799, -3724, -11567, -18522, 3216, 12599, 18224, 3613, -1742, -19168, 15440, 16516, -9768, -18317, -5029, -5797, 5455, -19063, 6491, 19997, 11537, 9757, 4059, -692, -5970, 5394, 17099, -12209, 11500, -19091, -979, -5456, 9835, 11561, 7979, 4956, 8526, 14164, -19348, -13343, -10622, -157, 12296, -13832, 8993, 14066, 13162, 1630, 16311, -6450, 10344, -2866, -1402, -13282, 10018, 9575, -662, 11270, -13106, 5231, -14945, 2230, -7583,
                781, 3311, 1663, 13666, 18233, -14758, 1709, -5867, 18995, 17437, 18598, 19346, -6041, 4713, -11364, 9385, -546, -11058, 4861, -8006, -12091, -7326, -6832, 11336, 2918, 10788, 7996, 5232, 14929, 16012, -15576, 246, -11278, 204, 19114, 6160, 19231, 6670, 19566, -9508, 7081, -693, -11289, 1989, 5336, 9998, -3254, -18144, 2992, -17955, -10725, -13461, -8031, 83, -14223, 14530, -17722, -17475, 19865, 13393, -6431, -11082, 12314, 9913, -16465, 12757, 14520, -15337, 6595, -823, -19911, 9132, 4520, 1768, -11372, 11280, 19485, -16083, 9642, -8557, -9113, 12333, -10261, -13605, -2376, -6951, 5674,
                -7408, -5302, 7734, 15948, 18347, 9299, 16003, 15553, 13817, 17957, 16281, -3286, -8009, 18760, 6017, 9967, 3377, 7225, -18857, -10561, 5121, 14393, 16438, -13016, 1809, -13989, 3472, -115, -15790, 731, -4430, -4529, 12854, 15321, 265, 5651, -14538, -4574, 5152, 17077, 13802, 12885, 19611, -12907, 13990, -16630, -783, 5491, 11293, 14528, 422, 7083, -14678, 18128, 6763, -9321, -10619, 14641, -11938, 19994, 2454, 2578, 3716, -19567, -14754, -3896, -2005, -16013, -17468, 116, 12428, 14945, 11669, -8409, -12776, 19344, -5776, -4843, 109, -5419, -13538, 8014, -13718, -2900,
                18709, -14625, -1597, -12073, 15173, 10211, 18839, 10096, 18752, 16977, 6697, 11458, 3885, -8311, -2598, 6813, -618, 16414, 5705, 3506, 18570, 16236, 6166, -12985, -3858, -6486, -19593, -18366, 12985, -18585, 5109, -201, 6851, -16232, 18356, 9222, 16649, -55, 3062, 19337, 1419, -11959, 1166, 8805, 17591, -16281, -17876, 7609, 14138, 7824, 13596, -19974, -5136, -2073, 9055, 11068, -3093, 13173, -12282, 11054, 2001, -12, -9853, -13131, -19692, -17466, -18627, -9965, -1141, -14571, -10181, 1802, -13295, -18598, -18562, 18627, -5599, -8625, -1706, 6632, 9081, 8629, -4365, 10700, -14575, 12340, -14716, -16938,
                -3376, -16584, -19610, 15154, -18068, -1151, 3166, 4125, -10066, 9753, -13292, 9561, -17610, 10960, 8813, -9970, 16795, 18089, -16924, 16339, -7495, -17155, 3683, 7599, 15803, 2208, -18634, 134, 5890, 18732, 18286, 11159, -301, 10188, 17225, -11813, -19262, 16082, 14777, 16048, 896, -17801, -1680, -1612, -15375, -3816, 14971, -3796, 12901, 18218, -7566, -8509, 13642, 7314, 19714, 7796, -1738, -14987, 8554, -14385, -17294, 12465, -9641, -12341, -2386, -8943, -17624, 15335, 1361, 16085, -4491, -6910, -2186, 6523, -2486, -4192, 19904, -6132, 16067, -7896, 13069, 2004, 17908, 3822, -16291, -4173, -6789, -19579, -9176, -12190, -6214, -4375, 7907,
                -14193, -10417, -17329, -11492, 13737, 12356, -391, 13978, -7937, 16209, 5417, -19169, -7612, -17209, -65, -12388, -4993, -14371, -11660, -7898, -425, -2065, -13731, -7789, -12395, -12092, -5453, -19083, -10414, 6947, 13082, 12092, 6022, -7110, -13705, -7014, 11603, 17419, -12308, -201, -8824, -19256, 7031, 15409, 18732, -17308, -5738, 1417, -5505, 6103, -7348, 7973, 8866, 19168, 7659, 12644, -17851, -18321, -17666, -8153, 9862, -2695, -12478, -13, 980, -1973, -13275, -9509, -16422, 9151, -3459, 3974, 11826, -18289, 6433, -18907, 9744, -13782, 19628, -3588, 17073, -6218, -16716, 13216, 14283, -1836, -3606,
                -10552, 0, -4115, 19645, -9583, 17133, 10908, -1568, -13747, -1749, -8040, -6679, 5883, 3653, 14328, 10338, -8470, 12104, -10723, 10129, -2670, 291, 11555, 8520, -10482, 10923, -1522, -14409, -11346, 15894, -14114, 2348, 2554, 11416, 10054, 10795, -8453, -13287, 14435, -4460, -7382, -18927, -1885, 18530, 18449, 1666, -12439, 3184, 12087, 14785, -7917, -9501, -17415, -11223, -9661, 7290, -8351, 15175, 2119, 10687, 13548, 4893, 7152, 368, 4293, -3381, 5619, -15812, -5501, -12209, 13989, -13222, 19438, 5282, 9841, 1575, 18769, 7853, 427, -11957, -8345, 16559, 3690, -15707, 14815, 15833, -295, -18575, 7236, -5343,
                -6944, 19622, 6467, 2983, 2925, 15571, -16749, 17261, 17973, -18105, -6296, 1896, -8582, 9135, -2713, -9445, 620, 1402, 16006, -10211, -16277, -949, -12838, -8368, 7737, 10499, 15784, 8485, -12449, 5969, -176, 3259, -4180, -238, -5859, -12868, -9195, 18931, -10023, 376, 16406, 12657, 4770, 13883, 13776, -6287, -12345, -1258, -14440, -12180, -17633, -14702, -15379, 12968, -17671, 12436, 18647, 14124, 4617, 19363, 7705, 4503, 11898, -1173, -12957, 6081, 13246, -8649, -19818, -14256, 15361, 13312, -13253, -16650, -16610, -8763, 7640, -7636, -12622, -1334, 697, 5057, -3932, -10477, -10318, 18549, 9717, 6489, 9514


        };

        int[] nums2 = {2, 3, 5 , 1};
        Long s = System.currentTimeMillis();
        System.out.println(sortArray(nums));
        System.out.println(System.currentTimeMillis() - s);

    }
}
